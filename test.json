{"Constraints":[{"LTarget":"$${node.class}","Operand":"=","RTarget":"monitoring"}],"Datacenters":["local"],"ID":"grafana","Name":"grafana","TaskGroups":[{"Count":1,"EphemeralDisk":{"SizeMB":500},"Name":"grafana","Resources":{"CPU":256,"MemoryMB":256,"Networks":[{"DynamicPorts":[{"Label":"http"}]}]},"Services":[{"Checks":[{"Interval":10000000000,"Path":"/","PortLabel":"http","Timeout":9000000000,"Type":"http"}],"Name":"grafana","PortLabel":"http"}],"Tasks":[{"Config":{"extra_hosts":["consul:$${attr.unique.network.ip-address}"],"image":"density/monitoring/grafana:0","logging":[{"config":[{"max-file":3,"max-size":"100m","type":"json-file"}]}],"port_map":[{"http":3000}]},"Driver":"docker","Name":"grafana","User":"grafana","network_mode":"host"}],"Templates":[{"ChangeMode":"restart","DestPath":"secrets/.env","EmbeddedTmpl":"{{ range ls \"monitoring/grafana\" }}\n{{ .Key | toUpper }}={{ .Value }}\n{{ end }}\n","Envvars":true,"Splay":60000000000}]}],"Type":"service"}